<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ultra Marathon Charity Challenge — Cat & Rob</title>
  <style>
    :root{--bg:#0f1720;--card:#0b1220;--muted:#9aa6b2;--accent:#ff7a59;--glass:rgba(255,255,255,0.03)}
    *{box-sizing:border-box}body{margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;color:#e6eef6;background:linear-gradient(180deg,#071022 0%, #081426 100%)}
    header{position:relative;text-align:left;color:white}
    .hero{height:36vh;min-height:240px;background-image:url('https://images.unsplash.com/photo-1501785888041-af3ef285b470?auto=format&fit=crop&w=1600&q=60');background-size:cover;background-position:center;display:flex;align-items:flex-end}
    .hero .overlay{width:100%;backdrop-filter:blur(2px);background:linear-gradient(0deg, rgba(2,6,23,0.6), rgba(2,6,23,0.2));padding:28px}
    .container{max-width:980px;margin:0 auto;padding:20px}
    h1{margin:0;font-size:clamp(20px,4vw,34px)}
    .meta{color:var(--muted);margin-top:8px}
    .grid{display:grid;grid-template-columns:1fr 360px;gap:24px;margin-top:22px}
    .card{background:var(--card);padding:18px;border-radius:12px;box-shadow:0 6px 18px rgba(3,8,20,0.6)}
    .stats{display:flex;gap:12px;justify-content:space-between}
    .stat{flex:1;text-align:center;padding:8px;border-radius:8px;background:var(--glass)}
    .stat h3{margin:6px 0 0;font-size:20px}
    .stat p{margin:0;color:var(--muted)}
    .countdown{display:flex;gap:8px;justify-content:center;margin-top:12px}
    .countdown .unit{background:rgba(255,255,255,0.03);padding:10px 14px;border-radius:8px;min-width:60px}
    .section{margin-top:18px}
    form label{display:block;margin:10px 0 6px;color:var(--muted);font-size:14px}
    input[type=text], input[type=email], input[type=number]{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:#e6eef6}
    button{background:linear-gradient(90deg,var(--accent),#ff956f);padding:10px 14px;border-radius:10px;border:0;color:#021019;font-weight:600;cursor:pointer}
    footer{color:var(--muted);text-align:center;margin:28px 0}
    ul.checklist{padding-left:18px;margin:8px 0 0;color:var(--muted)}
    @media (max-width:900px){.grid{grid-template-columns:1fr}.hero{height:40vh}}
  </style>
</head>
<body>
  <header>
    <div class="hero">
      <div class="overlay">
        <div class="container">
          <h1>Cat and Rob attempt to run Australia's hardest 100km race</h1>
          <div class="meta">February 14, 2025 — Mt Buller, Victoria</div>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="grid">
      <section class="card">
        <h2>The Challenge</h2>
        <p style="color:var(--muted)">Oscar's 100 Hut2Hut is Australia's hardest 100km mountain race, taking runners through the unforgiving terrain of Victoria's Alpine National Park. Starting pre-dawn with 5,800+ metres of climb, this race is a monumental test.</p>
        <ul class="checklist">
          <li><strong>Race:</strong> Oscar's 100 Hut2Hut</li>
          <li><strong>Date:</strong> February 14, 2025</li>
          <li><strong>Start time:</strong> 5:00 AM</li>
          <li><strong>Distance:</strong> 100 kilometres</li>
          <li><strong>Elevation gain:</strong> 5,800+ metres</li>
          <li><strong>Location:</strong> Mt Buller, Victoria</li>
        </ul>

        <div class="section">
          <h3>Make Your Pledge</h3>
          <p style="color:var(--muted)">If Cat and Rob complete the race: you donate your pledged amount to charity. If they don't finish: they cover your pledge—you pay nothing.</p>

          <form id="pledgeForm">
            <label for="name">Name</label>
            <input id="name" type="text" placeholder="Your name" required>

            <label for="amount">Pledge amount (AUD)</label>
            <input id="amount" type="number" placeholder="e.g. 50" min="1" required>

            <label for="email">Email</label>
            <input id="email" type="email" placeholder="you@domain.com" required>

            <div style="margin-top:12px;display:flex;gap:10px;align-items:center">
              <button type="submit">Submit Pledge</button>
              <div id="thank" style="color:var(--muted);font-size:14px"></div>
            </div>
          </form>
        </div>

        <div class="section">
          <h3>Our Supporters</h3>
          <p id="supportersText" style="color:var(--muted)">Be the first to pledge your support</p>
        </div>

      </section>

      <aside class="card">
        <h3>Live totals</h3>
        <div class="stats">
          <div class="stat">
            <p>Total Pledged</p>
            <h3 id="totalPledged">$0</h3>
          </div>
          <div class="stat">
            <p>Supporters</p>
            <h3 id="supportersCount">0</h3>
          </div>
          <div class="stat">
            <p>Average Pledge</p>
            <h3 id="avgPledge">$0</h3>
          </div>
        </div>

        <div class="section">
          <h4>Time Until Race Day</h4>
          <div class="countdown" id="countdown">
            <div class="unit"><div id="days">0</div><div style="font-size:12px;color:var(--muted)">Days</div></div>
            <div class="unit"><div id="hours">0</div><div style="font-size:12px;color:var(--muted)">Hours</div></div>
            <div class="unit"><div id="minutes">0</div><div style="font-size:12px;color:var(--muted)">Minutes</div></div>
            <div class="unit"><div id="seconds">0</div><div style="font-size:12px;color:var(--muted)">Seconds</div></div>
          </div>
        </div>

      </aside>
    </div>

    <footer>
      <p class="note">Thank you for your support — Cat & Rob</p>
    </footer>
  </main>

  <script>
    // Simple localStorage-backed totals so the page behaves like the original demo
    const STORAGE_KEY = 'hut2hut_pledges_demo_v1';
    const targetDate = new Date('2025-02-14T05:00:00');

    function loadData(){
      try{
        const raw = localStorage.getItem(STORAGE_KEY);
        return raw ? JSON.parse(raw) : {total:0,count:0,pledges:[]};
      }catch(e){return {total:0,count:0,pledges:[]}}
    }
    function saveData(d){localStorage.setItem(STORAGE_KEY, JSON.stringify(d));}
    function updateUI(){
      const d = loadData();
      document.getElementById('totalPledged').textContent = '$' + (d.total.toFixed ? d.total.toFixed(0) : Math.round(d.total));
      document.getElementById('supportersCount').textContent = d.count;
      const avg = d.count? (d.total / d.count):0;
      document.getElementById('avgPledge').textContent = '$' + Math.round(avg);
      document.getElementById('supportersText').textContent = d.count ? d.pledges.map(p=>p.name + ' — $' + p.amount).join('\n') : 'Be the first to pledge your support';
    }

    document.getElementById('pledgeForm').addEventListener('submit', function(e){
      e.preventDefault();
      const name = document.getElementById('name').value.trim();
      const amount = Number(document.getElementById('amount').value);
      const email = document.getElementById('email').value.trim();
      if(!name || !amount || !email) return;
      const d = loadData();
      d.total = (d.total || 0) + amount;
      d.count = (d.count || 0) + 1;
      d.pledges = d.pledges || [];
      d.pledges.unshift({name, amount, email, date: new Date().toISOString()});
      saveData(d);
      updateUI();
      document.getElementById('thank').textContent = 'Thank you — pledge received';
      setTimeout(()=>document.getElementById('thank').textContent='',3000);
      this.reset();
    });

    // Countdown
    function tickCountdown(){
      const now = new Date();
      let diff = Math.max(0, targetDate - now);
      const days = Math.floor(diff / (1000*60*60*24));
      diff -= days*(1000*60*60*24);
      const hours = Math.floor(diff / (1000*60*60));
      diff -= hours*(1000*60*60);
      const minutes = Math.floor(diff / (1000*60));
      diff -= minutes*(1000*60);
      const seconds = Math.floor(diff/1000);
      document.getElementById('days').textContent = days;
      document.getElementById('hours').textContent = hours;
      document.getElementById('minutes').textContent = minutes;
      document.getElementById('seconds').textContent = seconds;
    }
    setInterval(tickCountdown, 1000);
    tickCountdown();
    updateUI();
  </script>
</body>
</html>
