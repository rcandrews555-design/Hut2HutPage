<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ultra Marathon Charity Challenge</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; background: #ffffff; color: #2c2c2c; line-height: 1.7; }
    nav { position: fixed; top: 0; left: 0; right: 0; background: rgba(255, 255, 255, 0.98); backdrop-filter: blur(10px); padding: 20px 40px; z-index: 1000; border-bottom: 1px solid #eaeaea; }
    nav .logo { font-size: 1.3em; font-weight: 600; letter-spacing: -0.5px; color: #000; }
    .hero { height: 90vh; display: flex; align-items: center; justify-content: center; text-align: center; background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('hero.jpg'); background-size: cover; background-position: center; color: white; margin-top: 70px; }
    .hero-content h1 { font-size: 5em; font-weight: 300; margin-bottom: 20px; letter-spacing: -2px; line-height: 1.1; }
    .hero-content p { font-size: 1.5em; font-weight: 300; margin-bottom: 40px; opacity: 0.95; }
    .hero-btn { display: inline-block; padding: 18px 50px; background: white; color: #000; text-decoration: none; font-weight: 500; letter-spacing: 1px; font-size: 0.9em; text-transform: uppercase; transition: all 0.3s ease; border: none; cursor: pointer; }
    .hero-btn:hover { background: #f5f5f5; transform: translateY(-2px); }
    .section { padding: 100px 40px; max-width: 1400px; margin: 0 auto; }
    .section-title { font-size: 3em; font-weight: 300; margin-bottom: 20px; letter-spacing: -1px; text-align: center; }
    .section-subtitle { text-align: center; font-size: 1.2em; color: #666; margin-bottom: 80px; font-weight: 300; }
    .stats-container { background: #f8f8f8; padding: 80px 40px; }
    .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 60px; max-width: 1200px; margin: 0 auto; text-align: center; }
    .stat-item .number { font-size: 4em; font-weight: 300; color: #000; margin-bottom: 10px; }
    .stat-item .label { font-size: 0.9em; text-transform: uppercase; letter-spacing: 2px; color: #999; font-weight: 500; }
    .countdown-section { background: #000; color: white; padding: 100px 40px; text-align: center; }
    .countdown-section h2 { font-size: 3em; font-weight: 300; margin-bottom: 60px; letter-spacing: -1px; }
    .countdown-grid { display: flex; justify-content: center; gap: 40px; flex-wrap: wrap; }
    .time-box { min-width: 140px; }
    .time-box .number { font-size: 5em; font-weight: 300; line-height: 1; margin-bottom: 15px; }
    .time-box .label { font-size: 0.85em; text-transform: uppercase; letter-spacing: 2px; color: #999; font-weight: 500; }
    .content-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 80px; align-items: center; margin-bottom: 80px; }
    .content-text h3 { font-size: 2.2em; font-weight: 300; margin-bottom: 30px; letter-spacing: -1px; }
    .content-text p { font-size: 1.1em; color: #666; line-height: 1.8; margin-bottom: 20px; }
    .info-list { list-style: none; margin: 30px 0; }
    .info-list li { padding: 15px 0; border-bottom: 1px solid #eaeaea; display: flex; justify-content: space-between; font-size: 1.05em; }
    .info-list li strong { color: #000; font-weight: 500; }
    .info-list li span { color: #666; }
    .form-section { background: #f8f8f8; padding: 100px 40px; }
    .form-container { max-width: 700px; margin: 0 auto; }
    .form-group { margin-bottom: 30px; }
    .form-group label { display: block; margin-bottom: 10px; font-size: 0.85em; text-transform: uppercase; letter-spacing: 1.5px; font-weight: 500; color: #666; }
    .form-group input, .form-group textarea { width: 100%; padding: 15px 20px; background: white; border: 1px solid #ddd; font-size: 1em; font-family: inherit; transition: border-color 0.3s; color: #2c2c2c; }
    .form-group input:focus, .form-group textarea:focus { outline: none; border-color: #000; }
    .form-group textarea { resize: vertical; min-height: 120px; }
    .submit-btn { width: 100%; padding: 18px; background: #000; color: white; border: none; font-size: 0.9em; text-transform: uppercase; letter-spacing: 2px; font-weight: 500; cursor: pointer; transition: all 0.3s ease; }
    .submit-btn:hover { background: #333; }
    .success-message { background: #000; color: white; padding: 20px; margin-bottom: 30px; text-align: center; display: none; font-size: 0.9em; letter-spacing: 1px; }
    .pledgers-section { padding: 100px 40px; max-width: 900px; margin: 0 auto; }
    .pledger-item { padding: 30px 0; border-bottom: 1px solid #eaeaea; display: flex; justify-content: space-between; align-items: flex-start; }
    .pledger-item:last-child { border-bottom: none; }
    .pledger-info .name { font-size: 1.1em; font-weight: 500; margin-bottom: 8px; color: #000; }
    .pledger-amount { font-size: 1.5em; font-weight: 300; color: #000; white-space: nowrap; margin-left: 30px; }
    .empty-state { text-align: center; color: #999; padding: 60px 0; font-size: 1.1em; }
    @media (max-width: 968px) {
      .hero-content h1 { font-size: 3em; }
      .content-grid { grid-template-columns: 1fr; gap: 40px; }
      .section { padding: 60px 20px; }
      .stats-container, .countdown-section, .form-section { padding: 60px 20px; }
      .section-title { font-size: 2.2em; }
      .pledger-item { flex-direction: column; }
      .pledger-amount { margin-left: 0; margin-top: 10px; }
    }
  </style>
</head>
<body>
  <nav>
    <div class="logo">Ultra Marathon 2026</div>
  </nav>

  <section class="hero">
    <div class="hero-content">
      <h1>Cat and Rob attempt to run Australia's hardest 100km race</h1>
      <p>February 14, 2026</p>
      <a href="#pledge" class="hero-btn">Make a Pledge</a>
    </div>
  </section>

  <div class="stats-container">
    <div class="stats-grid">
      <div class="stat-item"><div class="number" id="totalPledged">$0</div><div class="label">Total Pledged</div></div>
      <div class="stat-item"><div class="number" id="totalPledgers">0</div><div class="label">Supporters</div></div>
      <div class="stat-item"><div class="number" id="avgPledge">$0</div><div class="label">Average Pledge</div></div>
    </div>
  </div>

  <section class="countdown-section">
    <h2>Time Until Race Day</h2>
    <div class="countdown-grid" id="countdownGrid">
      <div class="time-box"><div class="number" id="days">0</div><div class="label">Days</div></div>
      <div class="time-box"><div class="number" id="hours">0</div><div class="label">Hours</div></div>
      <div class="time-box"><div class="number" id="minutes">0</div><div class="label">Minutes</div></div>
      <div class="time-box"><div class="number" id="seconds">0</div><div class="label">Seconds</div></div>
    </div>
  </section>

  <section class="section">
    <div class="content-grid">
      <div class="content-text">
        <h3>The Challenge</h3>
        <p>Oscar's 100 Hut2Hut is Australia's hardest 100km mountain race, taking runners through the unforgiving terrain of Victoria's Alpine National Park. Starting in the pre-dawn darkness, participants face over 5,000 meters of elevation gain as they traverse exposed ridgelines, ancient hut sites, and brutal alpine climbs.</p>
        <ul class="info-list">
          <li><strong>Race</strong> <span>Oscar's 100 Hut2Hut</span></li>
          <li><strong>Date</strong> <span>February 14, 2026</span></li>
          <li><strong>Start Time</strong> <span>5:00 AM</span></li>
          <li><strong>Distance</strong> <span>100 kilometers</span></li>
          <li><strong>Elevation Gain</strong> <span>5,800+ meters</span></li>
          <li><strong>Location</strong> <span>Mt Buller, Victoria</span></li>
        </ul>
      </div>
    </div>
  </section>

  <section class="form-section" id="pledge">
    <div class="form-container">
      <h2 class="section-title">Make Your Pledge</h2>
      <p class="section-subtitle">Support Cat and Rob in their epic challenge</p>
      <form id="pledgeForm">
        <div class="form-group"><label for="name">Name</label><input type="text" id="name" required></div>
        <div class="form-group"><label for="amount">Pledge Amount</label><input type="number" id="amount" min="1" required placeholder="$"></div>
        <div class="form-group"><label for="email">Email</label><input type="email" id="email" required></div>
        <button type="submit" class="submit-btn">Submit Pledge</button>
      </form>
      <div class="success-message" id="successMessage">Thank you for your pledge!</div>
    </div>
  </section>

  <section class="pledgers-section">
    <h2 class="section-title">Our Supporters</h2>
    <div id="pledgersList"><p class="empty-state">Be the first to pledge your support</p></div>
  </section>

  <script>
    let pledges = [];
    let countdownInterval = null;
    const WEB_APP_URL = 'https://script.google.com/macros/s/AKfycbwXcVOfGQGNQD-aR0ZhgS98by1bfDP7QZQ4eXMCf3UgvR4M0XIm05FBmRhAdZhIZHhqhw/exec';

    function updateCountdown() {
      const eventDate = new Date('2026-02-14T05:00:00');
      const now = new Date();
      const distance = eventDate - now;
      
      if (distance <= 0) {
        document.getElementById('days').textContent = '0';
        document.getElementById('hours').textContent = '0';
        document.getElementById('minutes').textContent = '0';
        document.getElementById('seconds').textContent = '0';
        return;
      }
      
      const days = Math.floor(distance / (1000*60*60*24));
      const hours = Math.floor((distance % (1000*60*60*24))/(1000*60*60));
      const minutes = Math.floor((distance % (1000*60*60))/(1000*60));
      const seconds = Math.floor((distance % (1000*60))/1000);
      
      document.getElementById('days').textContent = days;
      document.getElementById('hours').textContent = hours;
      document.getElementById('minutes').textContent = minutes;
      document.getElementById('seconds').textContent = seconds;
    }

    async function loadPledges() {
      try {
        const response = await fetch(WEB_APP_URL);
        const data = await response.json();
        pledges = data.map(p => ({ 
          name: p.name, 
          email: p.email, 
          amount: Number(p.amount) 
        }));
        updateStats();
        displayPledgers();
      } catch (err) { 
        console.error('Error loading pledges:', err); 
      }
    }

    function updateStats() {
      const total = pledges.reduce((sum,p)=>sum+p.amount,0);
      const count = pledges.length;
      const avg = count>0?Math.round(total/count):0;
      document.getElementById('totalPledged').textContent = '
</body>
</html>+total.toLocaleString();
      document.getElementById('totalPledgers').textContent = count;
      document.getElementById('avgPledge').textContent = '
</body>
</html>+avg.toLocaleString();
    }

    function displayPledgers() {
      const list = document.getElementById('pledgersList');
      if (pledges.length===0) { 
        list.innerHTML='<p class="empty-state">Be the first to pledge your support</p>'; 
        return;
      }
      list.innerHTML = pledges.map(p=>`<div class="pledger-item"><div class="pledger-info"><div class="name">${p.name}</div></div><div class="pledger-amount">${p.amount}</div></div>`).join('');
    }

    document.getElementById('pledgeForm').addEventListener('submit', async function(e){
      e.preventDefault();
      const pledge = {
        name: document.getElementById('name').value.trim(), 
        email: document.getElementById('email').value.trim(), 
        amount: parseInt(document.getElementById('amount').value, 10)
      };
      
      try {
        const response = await fetch(WEB_APP_URL, {
          method: 'POST',
          headers: {'Content-Type': 'application/json'},
          body: JSON.stringify(pledge)
        });
        const result = await response.json();
        
        if (result.success) {
          this.reset();
          document.getElementById('successMessage').style.display='block';
          setTimeout(()=>{
            document.getElementById('successMessage').style.display='none';
          }, 3000);
          loadPledges();
        } else {
          alert("Something went wrong saving your pledge. Please try again.");
        }
      } catch (err) {
        console.error('Error submitting pledge:', err);
        alert("Error submitting pledge. Please try again later.");
      }
    });

    document.addEventListener('DOMContentLoaded', ()=>{
      updateCountdown();
      countdownInterval = setInterval(updateCountdown, 1000);
      loadPledges();
      setInterval(loadPledges, 60000);
    });
  </script>
</body>
</html>
</body>
</html>
